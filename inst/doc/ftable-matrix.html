<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Combining flattened contingency tables (and other tables)</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Combining flattened contingency tables (and
other tables)</h1>



<p>This vignette demonstrates how flattened contingency tables can be
combined into more complex tables. For starters, we create a few
contingendy tables.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>tab.Class.Age <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Class<span class="sc">+</span>Age,<span class="at">data=</span>Titanic)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>tab.Survived.Class.Age <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Survived<span class="sc">+</span>Class<span class="sc">+</span>Age,<span class="at">data=</span>Titanic)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>tab.Survived.Class.Sex <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Survived<span class="sc">+</span>Class<span class="sc">+</span>Sex,<span class="at">data=</span>Titanic)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>tab.Survived.Class <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Survived<span class="sc">+</span>Class,<span class="at">data=</span>Titanic)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>tab.Survived.Sex <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Survived<span class="sc">+</span>Sex,<span class="at">data=</span>Titanic)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>tab.Survived.Age <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Survived<span class="sc">+</span>Age,<span class="at">data=</span>Titanic)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>tab.Survived <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Survived,<span class="at">data=</span>Titanic)</span></code></pre></div>
<p>Then we load the <em>memisc</em> package:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(memisc)</span></code></pre></div>
<p>Next, we create a few flattened contingency tables:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>(ftab.Survived.Age <span class="ot">&lt;-</span> <span class="fu">ftable</span>(tab.Survived.Age))</span></code></pre></div>
<pre><code>         Age Child Adult
Survived                
No              52  1438
Yes             57   654</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>(ftab.Survived.Sex <span class="ot">&lt;-</span> <span class="fu">ftable</span>(tab.Survived.Sex))</span></code></pre></div>
<pre><code>         Sex Male Female
Survived                
No           1364    126
Yes           367    344</code></pre>
<p>Since these tables have the same row variables, we can combine them
columnwise:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">cbind</span>(ftab.Survived.Age,</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>      ftab.Survived.Sex)</span></code></pre></div>
<pre><code>         Age Child Adult  Sex Male Female 
Survived                                  
No              52  1438      1364    126 
Yes             57   654       367    344 
                                          </code></pre>
<p>We can even add a simple table of counts:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">cbind</span>(ftab.Survived.Age,</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>      ftab.Survived.Sex,</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>      <span class="at">Total=</span>tab.Survived)</span></code></pre></div>
<pre><code>         Age Child Adult  Sex Male Female   Total 
Survived                                          
No              52  1438      1364    126    1490 
Yes             57   654       367    344     711 
                                                  </code></pre>
<p>Of course, it is not enough to see such tables on screen, we also may
need them in a presentable format, such as LaTeX or HTML. For the latter
format we again have <code>format_html</code> and
<code>show_html</code>. To see how this works, we first look at the
individual <code>ftable</code>s:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">show_html</span>(ftab.Survived.Age)</span></code></pre></div>
<style>
table#ftable-8 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftable-8 tr {
border-style: none;
} table#ftable-8 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftable-8 tr:nth-child(1){
border-top: 2px solid;
}
table#ftable-8 tr:nth-child(2){
border-bottom: 1px solid;
}
table#ftable-8 tr:nth-child(4){
border-bottom: 2px solid;
}
table#ftable-8 tr:nth-child(1) td:nth-child(n+3){
border-bottom: 1px solid;
}
table#ftable-8 td:nth-child(4),
table#ftable-8 td:nth-child(7){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftable-8 td:nth-child(3),
table#ftable-8 td:nth-child(6){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftable-8 td:nth-child(5),
table#ftable-8 td:nth-child(8){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftable-8 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftable-8">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Age
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
</tr>
<tr>
<td>
No
</td>
<td>
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Yes
</td>
<td>
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">show_html</span>(ftab.Survived.Sex)</span></code></pre></div>
<style>
table#ftable-9 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftable-9 tr {
border-style: none;
} table#ftable-9 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftable-9 tr:nth-child(1){
border-top: 2px solid;
}
table#ftable-9 tr:nth-child(2){
border-bottom: 1px solid;
}
table#ftable-9 tr:nth-child(4){
border-bottom: 2px solid;
}
table#ftable-9 tr:nth-child(1) td:nth-child(n+3){
border-bottom: 1px solid;
}
table#ftable-9 td:nth-child(4),
table#ftable-9 td:nth-child(7){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftable-9 td:nth-child(3),
table#ftable-9 td:nth-child(6){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftable-9 td:nth-child(5),
table#ftable-9 td:nth-child(8){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftable-9 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftable-9">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Sex
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
</tr>
<tr>
<td>
No
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Yes
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>… and then at their combination</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">show_html</span>(</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="fu">cbind</span>(ftab.Survived.Age,</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>      ftab.Survived.Sex,</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>      <span class="at">Total=</span>tab.Survived)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>)</span></code></pre></div>
<style>
table#ftab-matrix-1 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftab-matrix-1 tr {
border-style: none;
} table#ftab-matrix-1 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftab-matrix-1 tr:nth-child(1){
border-top: 2px solid;
}
table#ftab-matrix-1 tr:nth-child(2){
border-bottom: 1px solid;
}
table#ftab-matrix-1 tr:nth-child(4){
border-bottom: 2px solid;
}
table#ftab-matrix-1 td:nth-child(n of .header) {
border-bottom: 1px solid;
}
table#ftab-matrix-1 td:nth-child(4),
table#ftab-matrix-1 td:nth-child(7),
table#ftab-matrix-1 td:nth-child(10),
table#ftab-matrix-1 td:nth-child(13),
table#ftab-matrix-1 td:nth-child(16){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftab-matrix-1 td:nth-child(3),
table#ftab-matrix-1 td:nth-child(6),
table#ftab-matrix-1 td:nth-child(9),
table#ftab-matrix-1 td:nth-child(12),
table#ftab-matrix-1 td:nth-child(15){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftab-matrix-1 td:nth-child(5),
table#ftab-matrix-1 td:nth-child(8),
table#ftab-matrix-1 td:nth-child(11),
table#ftab-matrix-1 td:nth-child(14),
table#ftab-matrix-1 td:nth-child(17){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftab-matrix-1 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftab-matrix-1">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Age
</td>
<td colspan="6" class="header">
Sex
</td>
<td colspan="3">
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
No
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Yes
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>To make, in “knitr”, the creation of HTML-versions automatic one can
use the following little trick:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>knit_print.ftable_matrix <span class="ot">&lt;-</span><span class="cf">function</span>(x,options,...)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">asis_output</span>(</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>    <span class="fu">format_html</span>(x,</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>                <span class="at">digits=</span><span class="cf">if</span>(<span class="fu">length</span>(options<span class="sc">$</span>ftable.digits))</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>                          options<span class="sc">$</span>ftable.digits</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>                       <span class="cf">else</span> <span class="dv">0</span>,</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>                ...))</span></code></pre></div>
<p>Now we do not need to call <code>show_html</code> while using
“knitr”:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">cbind</span>(ftab.Survived.Age,</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>      ftab.Survived.Sex,</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>      <span class="at">Total=</span>tab.Survived)</span></code></pre></div>
<style>
table#ftab-matrix-2 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftab-matrix-2 tr {
border-style: none;
} table#ftab-matrix-2 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftab-matrix-2 tr:nth-child(1){
border-top: 2px solid;
}
table#ftab-matrix-2 tr:nth-child(2){
border-bottom: 1px solid;
}
table#ftab-matrix-2 tr:nth-child(4){
border-bottom: 2px solid;
}
table#ftab-matrix-2 td:nth-child(n of .header) {
border-bottom: 1px solid;
}
table#ftab-matrix-2 td:nth-child(4),
table#ftab-matrix-2 td:nth-child(7),
table#ftab-matrix-2 td:nth-child(10),
table#ftab-matrix-2 td:nth-child(13),
table#ftab-matrix-2 td:nth-child(16){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftab-matrix-2 td:nth-child(3),
table#ftab-matrix-2 td:nth-child(6),
table#ftab-matrix-2 td:nth-child(9),
table#ftab-matrix-2 td:nth-child(12),
table#ftab-matrix-2 td:nth-child(15){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftab-matrix-2 td:nth-child(5),
table#ftab-matrix-2 td:nth-child(8),
table#ftab-matrix-2 td:nth-child(11),
table#ftab-matrix-2 td:nth-child(14),
table#ftab-matrix-2 td:nth-child(17){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftab-matrix-2 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftab-matrix-2">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Age
</td>
<td colspan="6" class="header">
Sex
</td>
<td colspan="3">
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
No
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Yes
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>This can be undone by removing the method function of
<code>knit_print</code>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">rm</span>(knit_print.ftable_matrix)</span></code></pre></div>
<p>For <code>show_html</code> and <code>toLatex</code> there are some
variants in how the variable names are positioned, for example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">show_html</span>(</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>  <span class="fu">cbind</span>(ftab.Survived.Age,</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>      ftab.Survived.Sex,</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>      <span class="at">Total=</span>tab.Survived),</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>  <span class="at">varinfront=</span><span class="cn">FALSE</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>)</span></code></pre></div>
<style>
table#ftab-matrix-3 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftab-matrix-3 tr {
border-style: none;
} table#ftab-matrix-3 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftab-matrix-3 tr:nth-child(1){
border-top: 2px solid;
}
table#ftab-matrix-3 tr:nth-child(2){
border-bottom: 1px solid;
}
table#ftab-matrix-3 tr:nth-child(4){
border-bottom: 2px solid;
}
table#ftab-matrix-3 td:nth-child(n of .header) {
border-bottom: 1px solid;
}
table#ftab-matrix-3 td:nth-child(3),
table#ftab-matrix-3 td:nth-child(6),
table#ftab-matrix-3 td:nth-child(9),
table#ftab-matrix-3 td:nth-child(12),
table#ftab-matrix-3 td:nth-child(15){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftab-matrix-3 td:nth-child(2),
table#ftab-matrix-3 td:nth-child(5),
table#ftab-matrix-3 td:nth-child(8),
table#ftab-matrix-3 td:nth-child(11),
table#ftab-matrix-3 td:nth-child(14){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftab-matrix-3 td:nth-child(4),
table#ftab-matrix-3 td:nth-child(7),
table#ftab-matrix-3 td:nth-child(10),
table#ftab-matrix-3 td:nth-child(13),
table#ftab-matrix-3 td:nth-child(16){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftab-matrix-3 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftab-matrix-3">
<tr>
<td>
</td>
<td colspan="6" class="header">
Age
</td>
<td colspan="6" class="header">
Sex
</td>
<td colspan="3">
</td>
</tr>
<tr>
<td>
Survived
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
No
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Yes
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">show_html</span>(</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>  <span class="fu">cbind</span>(ftab.Survived.Age,</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>      ftab.Survived.Sex,</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>      <span class="at">Total=</span>tab.Survived),</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>  <span class="at">varontop=</span><span class="cn">FALSE</span></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>)</span></code></pre></div>
<style>
table#ftab-matrix-4 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftab-matrix-4 tr {
border-style: none;
} table#ftab-matrix-4 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftab-matrix-4 tr:nth-child(1){
border-top: 2px solid;
}
table#ftab-matrix-4 tr:nth-child(1){
border-bottom: 1px solid;
}
table#ftab-matrix-4 tr:nth-child(3){
border-bottom: 2px solid;
}
table#ftab-matrix-4 td:nth-child(n of .header) {
border-bottom: 1px solid;
}
table#ftab-matrix-4 td:nth-child(5),
table#ftab-matrix-4 td:nth-child(8),
table#ftab-matrix-4 td:nth-child(12),
table#ftab-matrix-4 td:nth-child(15),
table#ftab-matrix-4 td:nth-child(18){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftab-matrix-4 td:nth-child(4),
table#ftab-matrix-4 td:nth-child(7),
table#ftab-matrix-4 td:nth-child(11),
table#ftab-matrix-4 td:nth-child(14),
table#ftab-matrix-4 td:nth-child(17){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftab-matrix-4 td:nth-child(6),
table#ftab-matrix-4 td:nth-child(9),
table#ftab-matrix-4 td:nth-child(13),
table#ftab-matrix-4 td:nth-child(16),
table#ftab-matrix-4 td:nth-child(19){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftab-matrix-4 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftab-matrix-4">
<tr>
<td>
</td>
<td>
</td>
<td class="header">
Age:
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
<td class="header">
Sex:
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
No
</td>
<td>
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Yes
</td>
<td>
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>Of course it is also possible to combine flat contingency tables
rowwise:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>ftab.Age.Survived <span class="ot">&lt;-</span> <span class="fu">ftable</span>(tab.Survived.Age,<span class="at">col.vars=</span><span class="dv">1</span>)</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>ftab.Sex.Survived <span class="ot">&lt;-</span> <span class="fu">ftable</span>(tab.Survived.Sex,<span class="at">col.vars=</span><span class="dv">1</span>)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>ftab.Class.Survived <span class="ot">&lt;-</span> <span class="fu">ftable</span>(tab.Survived.Class,<span class="at">col.vars=</span><span class="dv">1</span>)</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="fu">rbind</span>(</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>  ftab.Age.Survived,</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a>  ftab.Sex.Survived,</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>  ftab.Class.Survived,</span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a>  <span class="at">Total=</span>tab.Survived</span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>       Survived   No Yes 
Age                      
Child             52  57 
Adult           1438 654 
                         
Sex                      
Male            1364 367 
Female           126 344 
                         
Class                    
1st              122 203 
2nd              167 118 
3rd              528 178 
Crew             673 212 
                         
                         
Total           1490 711 
                         </code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">show_html</span>(</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>  <span class="fu">rbind</span>(</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>    ftab.Age.Survived,</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>    ftab.Sex.Survived,</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>    ftab.Class.Survived,</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>    <span class="at">Total=</span>tab.Survived</span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>  )</span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>)</span></code></pre></div>
<style>
table#ftab-matrix-5 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftab-matrix-5 tr {
border-style: none;
} table#ftab-matrix-5 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftab-matrix-5 tr:nth-child(1){
border-top: 2px solid;
}
table#ftab-matrix-5 tr:nth-child(2),
table#ftab-matrix-5 tr:nth-child(4),
table#ftab-matrix-5 tr:nth-child(6),
table#ftab-matrix-5 tr:nth-child(10),
table#ftab-matrix-5 tr:nth-child(11){
border-bottom: 1px solid;
}
table#ftab-matrix-5 tr:nth-child(11){
border-bottom: 2px solid;
}
table#ftab-matrix-5 td:nth-child(n of .header) {
border-bottom: 1px solid;
}
table#ftab-matrix-5 td:nth-child(4),
table#ftab-matrix-5 td:nth-child(7){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftab-matrix-5 td:nth-child(3),
table#ftab-matrix-5 td:nth-child(6){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftab-matrix-5 td:nth-child(5),
table#ftab-matrix-5 td:nth-child(8){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftab-matrix-5 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftab-matrix-5">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Survived
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
No
</td>
<td colspan="3" class="header">
Yes
</td>
</tr>
<tr>
<td>
Age
</td>
<td>
Child
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Adult
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Sex
</td>
<td>
Male
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Female
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Class
</td>
<td>
1st
</td>
<td>
122
</td>
<td>
</td>
<td>
</td>
<td>
203
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
2nd
</td>
<td>
167
</td>
<td>
</td>
<td>
</td>
<td>
118
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
3rd
</td>
<td>
528
</td>
<td>
</td>
<td>
</td>
<td>
178
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Crew
</td>
<td>
673
</td>
<td>
</td>
<td>
</td>
<td>
212
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Total
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>It is also possible to create the <code>ftable</code>s from tables of
percentages or generic tables (created with <code>genTable</code>)
etc.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>ptab.Survived.Age<span class="ot">&lt;-</span><span class="fu">percentages</span>(Survived<span class="sc">~</span>Age,<span class="at">data=</span>Titanic)</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>ptab.Survived.Sex<span class="ot">&lt;-</span><span class="fu">percentages</span>(Survived<span class="sc">~</span>Sex,<span class="at">data=</span>Titanic)</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>ptab.Survived.Class<span class="ot">&lt;-</span><span class="fu">percentages</span>(Survived<span class="sc">~</span>Class,<span class="at">data=</span>Titanic)</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>fptab.Age.Survived <span class="ot">&lt;-</span> <span class="fu">ftable</span>(ptab.Survived.Age,<span class="at">col.vars=</span><span class="dv">1</span>)</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>fptab.Sex.Survived <span class="ot">&lt;-</span> <span class="fu">ftable</span>(ptab.Survived.Sex,<span class="at">col.vars=</span><span class="dv">1</span>)</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>fptab.Class.Survived <span class="ot">&lt;-</span> <span class="fu">ftable</span>(ptab.Survived.Class,<span class="at">col.vars=</span><span class="dv">1</span>)</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="fu">show_html</span>(</span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>  <span class="fu">rbind</span>(</span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>    fptab.Age.Survived,</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a>    fptab.Sex.Survived,</span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a>    fptab.Class.Survived</span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a>  ),</span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a>  <span class="at">digits=</span><span class="dv">1</span></span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a>)</span></code></pre></div>
<style>
table#ftab-matrix-6 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftab-matrix-6 tr {
border-style: none;
} table#ftab-matrix-6 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftab-matrix-6 tr:nth-child(1){
border-top: 2px solid;
}
table#ftab-matrix-6 tr:nth-child(2),
table#ftab-matrix-6 tr:nth-child(4),
table#ftab-matrix-6 tr:nth-child(6),
table#ftab-matrix-6 tr:nth-child(10){
border-bottom: 1px solid;
}
table#ftab-matrix-6 tr:nth-child(10){
border-bottom: 2px solid;
}
table#ftab-matrix-6 td:nth-child(n of .header) {
border-bottom: 1px solid;
}
table#ftab-matrix-6 td:nth-child(4),
table#ftab-matrix-6 td:nth-child(7){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftab-matrix-6 td:nth-child(3),
table#ftab-matrix-6 td:nth-child(6){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftab-matrix-6 td:nth-child(5),
table#ftab-matrix-6 td:nth-child(8){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftab-matrix-6 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftab-matrix-6">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Survived
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
No
</td>
<td colspan="3" class="header">
Yes
</td>
</tr>
<tr>
<td>
Age
</td>
<td>
Child
</td>
<td>
47
</td>
<td>
.
</td>
<td>
7
</td>
<td>
52
</td>
<td>
.
</td>
<td>
3
</td>
</tr>
<tr>
<td>
</td>
<td>
Adult
</td>
<td>
68
</td>
<td>
.
</td>
<td>
7
</td>
<td>
31
</td>
<td>
.
</td>
<td>
3
</td>
</tr>
<tr>
<td>
Sex
</td>
<td>
Male
</td>
<td>
78
</td>
<td>
.
</td>
<td>
8
</td>
<td>
21
</td>
<td>
.
</td>
<td>
2
</td>
</tr>
<tr>
<td>
</td>
<td>
Female
</td>
<td>
26
</td>
<td>
.
</td>
<td>
8
</td>
<td>
73
</td>
<td>
.
</td>
<td>
2
</td>
</tr>
<tr>
<td>
Class
</td>
<td>
1st
</td>
<td>
37
</td>
<td>
.
</td>
<td>
5
</td>
<td>
62
</td>
<td>
.
</td>
<td>
5
</td>
</tr>
<tr>
<td>
</td>
<td>
2nd
</td>
<td>
58
</td>
<td>
.
</td>
<td>
6
</td>
<td>
41
</td>
<td>
.
</td>
<td>
4
</td>
</tr>
<tr>
<td>
</td>
<td>
3rd
</td>
<td>
74
</td>
<td>
.
</td>
<td>
8
</td>
<td>
25
</td>
<td>
.
</td>
<td>
2
</td>
</tr>
<tr>
<td>
</td>
<td>
Crew
</td>
<td>
76
</td>
<td>
.
</td>
<td>
0
</td>
<td>
24
</td>
<td>
.
</td>
<td>
0
</td>
</tr>
</table>
<p>It is also possible to combine <code>rbind</code> and
<code>cbind</code>:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>tab.Age <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Age,<span class="at">data=</span>Titanic)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>tab.Sex <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Sex,<span class="at">data=</span>Titanic)</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>tab.Class <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(Freq<span class="sc">~</span>Class,<span class="at">data=</span>Titanic)</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="fu">show_html</span>(</span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a>  <span class="fu">rbind</span>(</span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a>    <span class="fu">cbind</span>(fptab.Age.Survived,<span class="at">Total=</span>tab.Age),</span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a>    <span class="fu">cbind</span>(fptab.Sex.Survived,<span class="at">Total=</span>tab.Sex),</span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a>    <span class="fu">cbind</span>(fptab.Class.Survived,<span class="at">Total=</span>tab.Class)</span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a>  ),</span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a>  <span class="at">digits=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>) <span class="co"># One digit after dot for percentages </span></span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a>                <span class="co"># no digits for total counts.</span></span>
<span id="cb23-14"><a href="#cb23-14" tabindex="-1"></a>)</span></code></pre></div>
<style>
table#ftab-matrix-7 {
border-collapse: collapse; border-style: none; margin: 2ex auto;
} table#ftab-matrix-7 tr {
border-style: none;
} table#ftab-matrix-7 td {
padding-top: 3px; padding-bottom: 3px; padding-left: 0.5ex; padding-right: 0.5ex; margin: 0px; margin-top: 0px;
margin-bottom: 0px;
border-style: none; border-width: 0; }
table#ftab-matrix-7 tr:nth-child(1){
border-top: 2px solid;
}
table#ftab-matrix-7 tr:nth-child(2),
table#ftab-matrix-7 tr:nth-child(4),
table#ftab-matrix-7 tr:nth-child(6),
table#ftab-matrix-7 tr:nth-child(10){
border-bottom: 1px solid;
}
table#ftab-matrix-7 tr:nth-child(10){
border-bottom: 2px solid;
}
table#ftab-matrix-7 td:nth-child(n of .header) {
border-bottom: 1px solid;
}
table#ftab-matrix-7 td:nth-child(4),
table#ftab-matrix-7 td:nth-child(7),
table#ftab-matrix-7 td:nth-child(10){
padding-left: 0px;
padding-right: 0px;
text-align: center; width: .2ex;

}
table#ftab-matrix-7 td:nth-child(3),
table#ftab-matrix-7 td:nth-child(6),
table#ftab-matrix-7 td:nth-child(9){
padding-left: 0.5ex;
padding-right: 0px;
text-align: right; 
}
table#ftab-matrix-7 td:nth-child(5),
table#ftab-matrix-7 td:nth-child(8),
table#ftab-matrix-7 td:nth-child(11){
padding-left: 0px;
padding-right: 0.5ex;
text-align: left; 
} table#ftab-matrix-7 td:nth-child(n of .header){
padding-left: 0.5ex;
padding-right: 0.5ex;
text-align: center; 
} </style>
<table class="ftable" id="ftab-matrix-7">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Survived
</td>
<td colspan="3">
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
No
</td>
<td colspan="3" class="header">
Yes
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
Age
</td>
<td>
Child
</td>
<td>
47
</td>
<td>
.
</td>
<td>
7
</td>
<td>
52
</td>
<td>
.
</td>
<td>
3
</td>
<td>
109
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Adult
</td>
<td>
68
</td>
<td>
.
</td>
<td>
7
</td>
<td>
31
</td>
<td>
.
</td>
<td>
3
</td>
<td>
2092
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Sex
</td>
<td>
Male
</td>
<td>
78
</td>
<td>
.
</td>
<td>
8
</td>
<td>
21
</td>
<td>
.
</td>
<td>
2
</td>
<td>
1731
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Female
</td>
<td>
26
</td>
<td>
.
</td>
<td>
8
</td>
<td>
73
</td>
<td>
.
</td>
<td>
2
</td>
<td>
470
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Class
</td>
<td>
1st
</td>
<td>
37
</td>
<td>
.
</td>
<td>
5
</td>
<td>
62
</td>
<td>
.
</td>
<td>
5
</td>
<td>
325
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
2nd
</td>
<td>
58
</td>
<td>
.
</td>
<td>
6
</td>
<td>
41
</td>
<td>
.
</td>
<td>
4
</td>
<td>
285
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
3rd
</td>
<td>
74
</td>
<td>
.
</td>
<td>
8
</td>
<td>
25
</td>
<td>
.
</td>
<td>
2
</td>
<td>
706
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Crew
</td>
<td>
76
</td>
<td>
.
</td>
<td>
0
</td>
<td>
24
</td>
<td>
.
</td>
<td>
0
</td>
<td>
885
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>The same construct as LaTeX code:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">toLatex</span>(</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>  <span class="fu">rbind</span>(</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>    <span class="fu">cbind</span>(fptab.Age.Survived,<span class="at">Total=</span>tab.Age),</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>    <span class="fu">cbind</span>(fptab.Sex.Survived,<span class="at">Total=</span>tab.Sex),</span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>    <span class="fu">cbind</span>(fptab.Class.Survived,<span class="at">Total=</span>tab.Class)</span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a>  ),</span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a>  <span class="at">digits=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>) <span class="co"># One digit after dot for percentages </span></span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a>                <span class="co"># no digits for total counts.</span></span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>\begin{tabular}{llD{.}{.}{1}D{.}{.}{1}cD{.}{.}{0}}
\toprule
&amp;&amp;\multicolumn{2}{c}{Survived}&amp;&amp;\\
\cmidrule{3-4}
&amp;&amp;\multicolumn{1}{c}{No}&amp;\multicolumn{1}{c}{Yes}&amp;&amp;\multicolumn{1}{c}{Total}\\
\midrule
Age &amp; Child &amp; 47.7 &amp; 52.3 &amp;  &amp; 109\\
 &amp; Adult &amp; 68.7 &amp; 31.3 &amp;  &amp; 2092\\
\midrule Sex &amp; Male &amp; 78.8 &amp; 21.2 &amp;  &amp; 1731\\
 &amp; Female &amp; 26.8 &amp; 73.2 &amp;  &amp; 470\\
\midrule Class &amp; 1st &amp; 37.5 &amp; 62.5 &amp;  &amp; 325\\
 &amp; 2nd &amp; 58.6 &amp; 41.4 &amp;  &amp; 285\\
 &amp; 3rd &amp; 74.8 &amp; 25.2 &amp;  &amp; 706\\
 &amp; Crew &amp; 76.0 &amp; 24.0 &amp;  &amp; 885\\
\bottomrule
\end{tabular}</code></pre>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
